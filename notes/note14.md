# External Database Cutover Survival Guide for OutSystems Teams

## Introduction

- **Context & Timeline:** A major **External Database Cutover** is happening this weekend, introducing a new workflow for database schema changes. Starting Monday, all OutSystems developers will use a **SSDT (SQL Server Data Tools) project with DACPAC deployments** instead of ad-hoc SQL or solely Service Studio changes[\[1\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,not%20manual%20SQL%20scripts).
- **Why This Change:** To improve reliability and governance, database schema is now treated as code: under version control, with automated builds/deployments and code review by leads[\[2\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20We%20Did%20This%2A%2A%3A%20,Prevents%20drift%20and%20manual%20errors). This prevents drift, enables rollback, and ensures consistency across Dev/Test/Prod[\[3\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Prevents%20drift%20and%20manual%20errors)[\[4\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,all%20database%20PRs%20before%20merge).
- **Team Profile:** Most of the team are OutSystems devs new to external DB workflows, with a few experienced staff engineers. Everyone will be lifted up to follow best practices under the new governance model.
- **Success Criteria:** By Monday, **no one should be blocked** on basic tasks[\[5\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Success%20Criteria%20by%20Timeline%20,dev%20leads%20focus%20on%20architecture). In Week 1, we expect **zero production incidents** from schema changes[\[6\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,dev%20leads%20focus%20on%20architecture). Within the first month, team velocity should return to normal as everyone becomes comfortable with the new process.

## Pre-Cutover Overview: What's Changing and Why

- **External Entities to SSDT:** External database entities that were previously managed via OutSystems or manual scripts are now managed in an SSDT project. **All schema changes go through Visual Studio** in a .sqlproj database project[\[7\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,all%20database%20PRs%20before%20merge). The project builds a **DACPAC** (package) that is deployed to databases (Dev, Test, Prod) - no direct SSMS edits in production.
- **New Deployment Workflow:** Deployments are now automated via DACPAC publish. Instead of running SQL scripts manually, you **publish the project** which generates the necessary ALTER TABLE statements under the hood[\[8\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,that%20will%20break%20the%20project)[\[9\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,3%20min). **Never write manual ALTERs** in the project - you continue declaring tables as CREATE scripts and let the tool handle it[\[10\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%29%3B%20).
- **Integration Studio Refresh:** **Critical step** for OutSystems integration: after any DB schema change deployment, you **must refresh the Integration Studio** to update the OutSystems entity definitions[\[11\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20NEVER%20FORGET%20THIS%20STEP)[\[12\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2ASee%2A%2A%3A%20%5BOutSystems). Skipping this will break OutSystems modules (they won't see new columns, etc.)[\[13\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Queries%20fail%20at%20runtime). This is a **new required habit** for all developers whenever a database change is made.
- **Governance - PR Reviews:** All database changes must be submitted via Git pull requests and reviewed by dev leads **before** merge[\[14\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,all%20database%20PRs%20before%20merge). This adds process and may feel like a slowdown, but it's essential to maintain quality and catch issues early. We'll mitigate PR delays by batching changes and following a release train schedule (explained later) to keep things moving efficiently.

## Pre-Cutover Preparation & Do's/Don'ts

- **Mindset Shift:** Be prepared that **Monday will be different** from your usual routine in Service Studio. Embrace the new "**Database schema as code**" mindset: treat database changes with the same rigor as application code. Expect to use **Visual Studio, Git, and Pull Requests** for DB work.
- **Key Don'ts (Anti-Patterns):** There are certain high-risk actions that must be avoided post-cutover as they could cause outages or deployment failures[\[15\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20DON%27T%20DO%20THESE%20,cause%20outages). Notably:
- âŒ **Don't manually edit production DB via SSMS** - use the project and deployment process[\[16\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Read%20%5BTop%2010%20Anti,in%20OutSystems%20queries).
- âŒ **Don't skip the Integration Studio refresh** after deploying DB changes[\[16\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Read%20%5BTop%2010%20Anti,in%20OutSystems%20queries).
- âŒ **Don't use SELECT \* in OutSystems queries** - always select explicit columns[\[17\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,columns%20without%20data%20migration%20plan).
- âŒ **Don't drop or alter columns on existing tables without a proper data migration or default** - dropping data or making a non-null column without default will be blocked[\[18\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%E2%9D%8C%20Anti,on%20Existing%20Table%20Without%20DEFAULT)[\[19\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20It%27s%20Bad%2A%2A%3A%20,Database%20unchanged%2C%20app%20broken).
- âŒ **Don't commit code without building it first** - a broken DB build will block your colleagues[\[20\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,DON%27T%20commit%20without%20building%20first).
- These and other "Top 10" anti-patterns (see **Top 10 Anti-Patterns** reference) are documented with explanations and safer alternatives[\[18\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%E2%9D%8C%20Anti,on%20Existing%20Table%20Without%20DEFAULT)[\[21\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=). We will highlight many of them throughout this guide.
- **Critical Do's:** On the flip side, always **build and test your database project locally** before pushing[\[22\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,local%20DB%20before%20submitting%20PR)[\[23\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=5,THEN%20commit%20and%20PR), follow naming/indexing standards (detailed later), and ask for help if unsure. The new process has safety nets (code review, automated build checks), so use them to learn and avoid mistakes.

## Immediate Post-Cutover Guide (Day 1 "Start Here")

This section is your quick reference for Day 1 tasks and crisis avoidance. It's essentially the "Start Here" and "Monday Morning Survival Guide" rolled into one.

### âš¡ Quick Links for Urgent Needs

If you're in a hurry Monday morning, find the scenario below: - **"I need to deploy my DB changes now!"** â†’ See [**Deployment Steps**](#deploying-a-database-change-to-dev) in the survival guide.  
\- **"I added a new column/table, how to refresh OutSystems?"** â†’ Jump to [**Refreshing OutSystems**](#refreshing-outsystems-after-a-db-change) section.  
\- **"My build failed, I can't build the database project."** â†’ See [**Troubleshooting Build Errors**](#troubleshooting-common-build-errors) (common errors and fixes).  
\- **"Our app broke after a DB change!"** â†’ First, ensure Integration Studio was refreshed. If yes, see [**Troubleshooting Integration Issues**](#outsystems-integration-issues). For prod incidents, escalate to #database-emergency Slack and page the on-call immediately.  
\- **"I need to review someone's DB pull request."** â†’ Use the [**Code Review Checklist**](#dev-lead-code-review-checklist) to ensure nothing is missed.

### ðŸš¨ Top Things NOT to Do on Day 1

Avoid these mistakes at all costs (they've caused outages elsewhere): - **No manual DB edits:** Do not run ad-hoc ALTER TABLE or other DDL in the database directly[\[24\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20DON%27T%20DO%20THESE%20,cause%20outages). All changes must go through the project and PR pipeline now.  
\- **No skipping refresh:** The moment after you publish to a database, **open Integration Studio and refresh** the affected entities[\[11\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20NEVER%20FORGET%20THIS%20STEP)[\[12\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2ASee%2A%2A%3A%20%5BOutSystems). Skipping this will leave OutSystems unaware of the change, causing runtime errors.  
\- **No SELECT \* in production code:** Always specify columns in your queries. This prevents surprises when columns change and reduces data transfer[\[25\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20list%20columns)[\[26\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Never%20SELECT%20,Always%20list%20columns).  
\- **No NOT NULL without defaults on existing tables:** If you add a NOT NULL column to a table that already has rows, the deployment will fail (it cannot populate a value for existing rows)[\[19\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20It%27s%20Bad%2A%2A%3A%20,Database%20unchanged%2C%20app%20broken)[\[27\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Empty%20string%20default). Instead, add as NULL or provide a DEFAULT and/or a data migration script[\[21\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=)[\[28\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,WHERE%20PhoneNumber%20IS%20NULL).  
\- **No committing un-tested changes:** Always build the project before committing. An unbuildable project will block the whole team since the CI/CD or others pulling changes will get errors[\[29\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=)[\[30\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Broken%20build%20%3D%20blocked%20colleagues).

_(For a full list of the top 10 anti-patterns to avoid, see the_ _Appendix: Top 10 Anti-Patterns_ _at the end of this document, which includes detailed examples and fixes_[_\[18\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=%E2%9D%8C%20Anti,on%20Existing%20Table%20Without%20DEFAULT)[_\[31\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=Dev%20Lead%3A%20Watch%20For%20These,in%20PRs)_.)_

### What to Expect Monday Morning

At the Monday standup, dev leads will give a brief overview of the new workflow, including a live demo of making a schema change and refreshing OutSystems[\[32\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%93%8A%20Monday%20Morning%20Standup%20Topics). There will be time for Q&A[\[33\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Dev%20leads%20will%20cover%3A%201,Q%26A%20%285%20min). By that point, you should have read this guide and be ready to try the new process on your own small change (even a practice one). **No one is expected to be an expert on day 1**, but with this guide you should be unblocked on the basics and know when to ask for help.

## Step-by-Step Guide: Making Your First Schema Change

Let's walk through a common scenario: _adding a new column_ to an existing table. This will illustrate the end-to-end process in the new system, from coding to deployment to OutSystems sync. (Refer to this when doing your first few changes.)

### Scenario: Add a "PhoneNumber" Column to Customers Table (15 min)

**Assumptions:** You have Visual Studio 2022 installed with SSDT, and you have the database project from source control. You know basic SQL and have the repo set up locally.

#### 1\. Open the Database Project (Visual Studio) - _2 min_

- Launch **Visual Studio 2022**. In the menu, go to **File â†’ Open â†’ Project/Solution**[\[34\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,MyDatabase.sqlproj%20%E2%86%92%20Click%20Open). Open the MyDatabase.sqlproj file for your database (located in your repo's DatabaseProject folder).
- Once loaded, confirm you see the project in **Solution Explorer** (it should list folders like Tables, Views, Stored Procedures)[\[35\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AVerify%20it%20opened%2A%2A%3A%20,help%20with%20screenshot). If something didn't load correctly, ask in #database-help with a screenshot[\[36\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,help%20with%20screenshot).

#### 2\. Find the Table Definition - _1 min_

- In Solution Explorer, expand the **Tables** folder. Locate **Customers.sql** (each table has its own .sql file)[\[37\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,click%20to%20open). Double-click it to open. You'll see the CREATE TABLE script for Customers as it exists currently: for example, it has CustomerId, FirstName, LastName, Email, etc.[\[38\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,100%29%20NOT%20NULL%20%29%3B).

#### 3\. Add the New Column in the CREATE TABLE script - _2 min_

- In the Customers.sql script, find the closing parenthesis ); of the CREATE TABLE statement. **Insert a new line _before_ the );** with the new column definition. For example:  

- \[PhoneNumber\] VARCHAR(20) NULL,
- Place it after the last existing column (Email). The trailing comma on the new line is important since another line follows (the closing parenthesis)[\[39\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,PhoneNumber%5D%20VARCHAR%2820%29%20NULL%2C)[\[40\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,%E2%86%90%20New%20line).
- Your table script should now include the PhoneNumber column marked as NULL (optional). Using VARCHAR(20) is appropriate for phone numbers (ASCII characters, up to 20 chars for international formats)[\[41\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%2A%2AData%20Type%20Considerations%2A%2A%3A%20,4567). We make it NULL because existing rows have no phone yet, and optional is okay for this field[\[42\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%E2%94%82%20%20%E2%94%9C%E2%94%80%20YES%20%E2%86%92,change%2C%20no%20OutSystems%20refresh).
- **Do NOT change** the CREATE TABLE to ALTER TABLE - leave it as a create script. The SSDT build process will understand that this is a schema change and generate the correct ALTER statement for deployment[\[10\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%29%3B%20). Manually writing ALTER will confuse the project and is considered an anti-pattern[\[43\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,that%20will%20break%20the%20project).

#### 4\. Build the Database Project - _1 min_

- Save the file, then build the solution: **Build â†’ Build Solution** (or Ctrl+Shift+B)[\[44\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Build%20Solution%20Or%3A%20Ctrl%2BShift%2BB). This compiles your schema changes into the DACPAC.
- Watch the **Output** window. You want to see "Build succeeded"[\[45\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Fail%3A%20Red%20text%20with%20errors). If you see any errors (red text):
- Common errors include missing commas or typos. For example, a syntax error "Incorrect syntax near ')'" usually means a comma issue[\[46\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,Rename%2C%20don%27t%20edit%20manually%20%E2%94%82)[\[47\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,).
- An error "SQL71501: Unresolved reference" means you referenced a table/column that the project doesn't know about (typo or missing reference)[\[48\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,Add%20GO%20between%20CREATE%20statements)[\[49\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=).
- If build fails, read the error, double-click it to jump to the line in question[\[50\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=Quick%20Build%20Checklist). Check for the typical issues (typos, commas, missing GO statements if you added multiple scripts). There's a detailed Troubleshooting section later for build errors.
- Only proceed when you get a **successful build** with 0 errors. (It's okay to have 0 warnings or some benign warnings, but errors must be resolved.)

#### 5\. Commit Your Change to Git - _3 min_

- In Visual Studio's **Team Explorer** (or using Git CLI), go to the **Changes** view. You should see that Customers.sql is modified[\[51\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%2A%2AYou%20should%20see%2A%2A%3A%20,%28shows%20M).
- Stage and commit the change with a clear message, e.g. "Add PhoneNumber column to Customers table"[\[52\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,PhoneNumber%20column%20to%20Customers%20table). Include a brief description: which table, why (e.g. feature or ticket reference), and note that it's a non-breaking, nullable addition[\[53\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=Add%20PhoneNumber%20column%20to%20Customers,table).
- **Build Before Commit:** _Always_ build successfully before committing[\[29\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=). Committing broken code will block your colleagues and the CI pipeline. This is now a firm rule (the PR template includes a checklist item for this[\[54\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Pre,passwords%2C%20API%20keys%2C%20PII)).

#### 6\. Push and Create a Pull Request (PR) - _3 min_

- **Push to remote:** Push your local commit to the Git remote (e.g., origin). Typically in Team Explorer you'll click **Sync** then **Push**[\[55\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,%E2%86%92%20Push).
- **Open a PR:** In GitHub or Azure DevOps, create a new Pull Request from your branch into the main branch[\[56\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,Breaking%20change%3A%20No). Fill out the PR template provided[\[57\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=)[\[54\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Pre,passwords%2C%20API%20keys%2C%20PII):
- Indicate the change type ("Add column")[\[58\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Change%20Type%20%28check%20one%29%20,%5D%20Other%3A).
- Give a clear description of what and why you changed[\[59\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Description%20,of%20schema%20changes) (e.g., adding PhoneNumber for contact feature).
- Note any breaking changes (in this case, none since it's additive)[\[60\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Breaking%20Changes%20,describe%20below).
- Check the pre-deployment list: project builds, naming conventions followed, appropriate data types (e.g. using NVARCHAR vs VARCHAR correctly), foreign keys indexed (not applicable here), etc.[\[54\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Pre,passwords%2C%20API%20keys%2C%20PII). The template reminds you of these best practices (we'll cover these standards in detail later).
- Post-deployment tasks: mark "Yes" for needing an OutSystems refresh[\[61\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Post,Testing%20steps%3A), and note any OutSystems apps that need updating (if the new column will be used somewhere specific). In our example, perhaps the Customer detail screen in the main app will show PhoneNumber.
- Assign your dev lead as reviewer[\[62\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Reviewer%20Assigning%20to%3A%20%40%5Bdev).
- **PR Review Process:** Once submitted, your dev lead will review the PR against a checklist (see [Dev Lead Code Review Checklist](#dev-lead-code-review-checklist) section). They will look for things like: Did you include an index if needed? Did you follow naming conventions (e.g., PhoneNumber is fine)? Any risky changes? If changes are requested, address them and push updates. Once approved, you're clear to deploy to Dev.

#### 7\. Deploy to Dev Environment - _3 min_

- After PR approval, you (or a designated person) will deploy the changes to the **Dev database**. There are a couple of ways:  
    **Option A: Deploy from Visual Studio** - Easiest for Dev.
- In Solution Explorer, right-click the database project â†’ **Publish**[\[63\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,3%20min).
- Select the target as the Dev database connection (you may have a publish profile or just enter the connection details).
- **Generate Script** first to preview[\[64\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,2%20min). This will show the SQL that will run. Verify it's doing an ALTER TABLE ... ADD \[PhoneNumber\] VARCHAR(20) NULL[\[65\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,PhoneNumber%5D%20VARCHAR%2820%29%20NULL%3B) and nothing unexpected (no drops)[\[66\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%2A%2AVerify%2A%2A%3A%20,%E2%9C%85%20NULL%2FNOT%20NULL%20correct).
- Then click **Publish** and wait for "Publish succeeded"[\[63\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,3%20min). This applies the change to the Dev DB.  
    **Option B: Deploy via CLI (SqlPackage)** - Typically used for pipeline or if you prefer script. For example, run SqlPackage.exe /Action:Publish /SourceFile:MyDatabase.dacpac /TargetServer:DEV_SERVER /TargetDatabase:MyDb (with appropriate parameters)[\[67\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,). This achieves the same as above.
- **Verify in DB:** Once deployed, you can connect to the Dev database (e.g., with SSMS or OutSystems) and verify the Customers table now has the PhoneNumber column. (In OutSystems, it won't show up until the refresh, next step.)

#### 8\. Refresh OutSystems Integration - _5 min (Critical!)_

Now that the Dev database has the new column, you must synchronize OutSystems with this change[\[11\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20NEVER%20FORGET%20THIS%20STEP):  
1\. Open **OutSystems Integration Studio**. Open the relevant Database Extension module (it's likely named for your app's database, e.g. MyApp_Database extension).  
2\. In the left panel, find the Customers entity under the extension. **Right-click -> Refresh** this entity[\[68\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=1.%20,new%20attribute%29%20Type%3A%20Text). This prompts Integration Studio to fetch the updated schema from the database.  
3\. You should see the new attribute PhoneNumber appear, with type Text (length 20) and marked not mandatory (since we made it NULL)[\[69\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=4.%20%2A%2ARight,Click%20Apply). Ensure it looks correct.  
4\. Click **Apply**, then **Publish** the extension (F5)[\[70\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=6.%20,Extension%20published%20successfully). Wait for the "published successfully" message. This updates the OutSystems platform with the new database schema.  
5\. Finally, in OutSystems **Service Studio**, open any application modules that use Customers. You'll get a prompt that the producer (the extension) changed. Go to **Manage Dependencies** and refresh the reference to pull in the new PhoneNumber field[\[71\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,Test%20in%20browser). Now the OutSystems module is aware of PhoneNumber.  
6\. You can now use Customer.PhoneNumber in aggregates, screens, logic, etc. For instance, add it to a screen or do a quick test to ensure you can create a customer with a phone number. Then **publish** your app from Service Studio to test it end-to-end[\[71\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,Test%20in%20browser).  
\- **Never Skip This:** The refresh step is critical for each environment. If you deploy DB changes to Test, you must refresh in the Test OutSystems environment, and similarly for Prod[\[72\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=6,that%20new%20attribute%20exists). Skipping in Dev means you're developing against an outdated schema in OutSystems; skipping in Test/Prod means runtime failures. This is one of the primary governance changes - it's now formalized that every DB schema deployment **goes hand-in-hand with an OutSystems refresh**.

#### 9\. Validate and Use the New Column - _Ongoing_

- Now that everything is in sync, proceed to use the new column in your OutSystems logic as needed (e.g., update screens to show Phone Number, etc.).
- Keep an eye on any errors. If something fails, revisit the steps: Did the deployment succeed? Did the refresh happen in the correct environment? If an OutSystems action complains about missing column, likely the refresh was not done or not published.
- Congratulations - you've successfully gone through the new process for a simple schema change! ðŸŽ‰

_(The_ _Monday Morning Survival Guide_ _covers other scenarios like adding a new table, adding reference (lookup) data, etc., with similar step-by-step instructions. Refer to those in the Appendix if needed for those specific tasks.)_

## Common Tasks Quick Reference

Beyond the new column scenario, here's how to handle other frequent tasks in the new system. These are summarized "playbooks" for quick reference:

- **Add a New Table:** Create a new .sql file under the Tables folder (Visual Studio **Add â†’ Table**). Define the table with a primary key and required columns[\[73\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Add%20a%20Table) (follow naming conventions e.g. singular table name[\[74\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,a%20row%20represents%20one%20X), \[TableName\]Id as PK[\[75\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Id%2C%20INT%20IDENTITY%20%28or%20BIGINT)). Include the standard audit columns in new tables (CreatedDate, CreatedBy, etc.)[\[76\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,gets%20these%204%20audit%20columns). Build, commit, PR, deploy, then refresh OutSystems (new entity appears) and update any app to use it. Ensure you also add any necessary foreign key constraints and indexes for relationships.
- **Add an Index:** Adding an index is done by creating a new script under the **Indexes** folder or adding it in the table script (as a CREATE NONCLUSTERED INDEX statement). Follow naming conventions: e.g. IX_Orders_CustomerId[\[77\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,FK%20constraint%20name%20%3D%20FK_ChildTable_ParentTable). Ensure every foreign key has an index[\[78\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,clustered%20index.%20No%20exceptions)[\[79\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,CustomerId). Build and deploy - indexes will be created on publish. No OutSystems action needed purely for indexes, but if it's to support a query, you might verify performance.
- **Modify Reference Data (Lookup values):** Use **post-deployment scripts** for data changes. For example, to insert lookup records or update static data, add logic in the Script.PostDeployment.sql. Always write these scripts to be **idempotent** (so running them twice won't double-insert or error)[\[80\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,MERGE%20or%20IF%20NOT%20EXISTS)[\[81\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=MERGE%20INTO%20OrderStatus%20) - e.g., use IF NOT EXISTS(...) INSERT ... or use MERGE statements. That way, every deployment can safely run the script. After deployment, OutSystems might not need changes unless the lookup is used in dropdowns (which typically read from DB directly).
- **Rename a Table or Column:** This is advanced - _do not attempt on Day 1 without guidance_. Renaming requires using Visual Studio's **Refactor â†’ Rename** so it tracks the rename operation (in a .refactorlog)[\[82\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%82%20%E2%94%9C%E2%94%80%20Error%3A%20,Rename%2C%20don%27t%20edit%20manually%20%E2%94%82)[\[83\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,instead%20of%20using%20Refactor%20menu). Never just edit the CREATE statement name or you'll break references[\[83\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,instead%20of%20using%20Refactor%20menu). After renaming and deployment, OutSystems will see the old entity as changed/missing - which requires coordination (likely treat as a new entity and migrate data, or use staging). This is covered in a refactoring playbook later. Always involve a senior dev for renames.

_(Additional playbooks for more complex tasks - like splitting a table, merging tables, handling merge conflicts in Git, recovering from failed deployments - are documented in the_ _Month 1 Optimization_ _section. Those are beyond the immediate scope of day-one, but we include summaries in the Appendix for reference.)_

## New Development Workflow: "Release Train" and PR Process

One of the biggest adjustments post-cutover is adopting a more structured development rhythm to prevent chaos. In the past, everyone might have made changes in parallel with no coordination, leading to merge conflicts and broken environments. We're now introducing a **Release Train** approach for database changes, along with clear PR guidelines and review checklists.

### Daily Release Train Schedule (Dev Environment)

To set expectations, we'll follow a daily schedule in Dev as follows[\[84\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%23%20Daily%20Rhythm%20%28Monday)[\[85\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=2%3A00%20PM%20%20,batched%20for%203%20PM%20deployment):

- **Morning (8:00 AM)** - Daily standup. Dev Lead announces if previous day's DB changes have been deployed to Dev and Integration Studio refreshed[\[86\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%60%60%60%208%3A00%20AM%20%20,yesterday%20deployed%2C%20Integration%20Studio%20refreshed). (Yes, by standup each day, yesterday's changes should be in Dev and ready for use.) Any overnight issues are discussed.
- **Development Window (9:00 AM - 2:00 PM)** - Developers work on database changes and features[\[87\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=9%3A00%20AM%20%20,Create%20PRs%20as%20ready). You can make schema changes in your local project, test locally, and open Pull Requests. Aim to have PRs ready by early afternoon for review.
- **PR Cutoff (2:00 PM)** - **2 PM is the cutoff** for same-day deployment of DB changes[\[88\]\[89\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=). If you submit a PR by 2:00 and it passes review by end of day, it will be included in the 3 PM deployment batch. PRs after 2 PM might wait for the next day[\[90\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Day%20Deployment). This ensures reviewers have at least an hour and aren't rushed[\[91\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AWhy%20hard%20cutoff%3F%2A%2A%3A%20,plan%20ahead).
- **Batch Deployment (3:00 PM)** - The Dev Lead or a designated "DB Shepherd" will deploy all **approved** PRs to the Dev database in one batch[\[85\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=2%3A00%20PM%20%20,batched%20for%203%20PM%20deployment). This typically uses the automated pipeline or manual publish of the merged changes. Batching at 3 PM ensures everyone's changes go in together, minimizing the number of times we have to refresh OutSystems and handle integration.
- **Integration Refresh (3:30 PM)** - Right after deployment, all developers **refresh Integration Studio** for any updated entities[\[92\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=3%3A30%20PM%20%20,Test%20their%20changes). The team will coordinate this: e.g., "The 3 PM deployment is done, please everyone refresh your OutSystems integrations now." This way, by 3:30-4:00 PM, _everyone's Service Studio is up to date_ with the day's schema changes, reducing "works on my machine" issues[\[86\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%60%60%60%208%3A00%20AM%20%20,yesterday%20deployed%2C%20Integration%20Studio%20refreshed)[\[93\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,~15%20minute%20window).
- **End of Day (5:00 PM)** - A checkpoint for any urgent fixes. Ideally, no unplanned DB changes after the 3:30 refresh; if something critical comes up, the dev lead will decide if an emergency fix is done (and coordinate accordingly)[\[94\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=5%3A00%20PM%20%20,work%20can%20be%20planned)[\[95\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Submitted%20by%202%3A00%20PM%20%E2%86%92,next%20day%20at%203%3A00%20PM).

**Why this structure?** It prevents a free-for-all of deployments. Without it, we risk multiple people deploying at random times and stepping on each other (one not refreshing OutSystems, breaking another's app, etc.)[\[96\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,syndrome). With a schedule, everyone knows when to integrate changes and can plan around it[\[97\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Fewer%20surprises%2C%20faster%20velocity). It also reduces merge conflicts by having a daily sync point, and allows the dev lead to oversee one combined deployment instead of many[\[85\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=2%3A00%20PM%20%20,batched%20for%203%20PM%20deployment).

### Pull Request Guidelines and Template

All schema changes go through Pull Requests now, so it's worth reiterating how to make a high-quality PR: - **Use the PR Template:** We have a standardized **Pull Request template for database changes**[\[98\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=). This ensures you provide all necessary info. The template (shown when you create a PR) asks for: what's changing and why[\[59\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Description%20,of%20schema%20changes), the type of change[\[99\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Change%20Type%20%28check%20one%29%20,%5D%20Other%3A), any breaking changes and their impact[\[60\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Breaking%20Changes%20,describe%20below), and a checklist of things you should have done (build success, followed naming conventions, added required indexes, idempotent scripts, etc.)[\[54\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Pre,passwords%2C%20API%20keys%2C%20PII). **Fill this out thoroughly** - it greatly speeds up the review, as the reviewer won't have to dig for details.  
\- **Small, Focused PRs:** Aim for smaller PRs that do one thing. For example, **one PR per feature or schema change**. Don't batch unrelated changes together[\[100\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Multiple%20changes%20%3D%20multiple%20PRs)[\[101\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Each%20PR%20%3D%20one,Multiple%20changes%20%3D%20multiple%20PRs). A PR with 1-5 files changed is ideal; >10 is getting large. This makes it easier to review and test. If you have a big change, consider breaking it into multiple steps/PRs if possible.  
\- **PR Submission Timing:** As mentioned, try to get your PR in by early afternoon if you want it deployed that day. If it's not ready, it's okay - you can merge next day. Quality is more important than rushing. A rushed PR late in the day might miss the train and cause unnecessary stress.  
\- **Automated Checks:** The build pipeline will automatically build your database project on the PR. If it fails (red X), fix those issues first - reviewers will not look at a PR that doesn't build. We also plan to add linting checks for some conventions (if possible).  
\- **Review Process:** Expect that leads will review using the checklist below, often within a couple of hours after 2 PM (they align their schedule to the cutoff). If you address their comments promptly, we can merge and deploy quickly. If you miss something like an index or have a questionable approach, don't take it personally - the review is there to help the team's long-term success.

### Dev Lead Code Review Checklist

For transparency, here's what our dev leads look for when reviewing a database change PR (and you should self-check these before submitting): - **Build & Syntax:** Does the project build without errors? (This should be automatic - if the PR is open, presumably yes.) Are there any warnings that should be addressed?  
\- **Schema Change Correctness:** Is the change logically correct and complete? For example, if adding a table, did you include a primary key and required audit columns? If adding a foreign key, did you also add an index on that column (to prevent performance issues)? (Leads will flag missing indexes on FKs as that's a known best practice[\[78\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,clustered%20index.%20No%20exceptions)[\[102\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,CustomerId).)  
\- **Naming & Style:** Are you following naming conventions? e.g., tables singular[\[74\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,a%20row%20represents%20one%20X), PascalCase for names[\[103\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,No%20spaces%2C%20underscores%2C%20or%20hyphens), "Id" suffix on PKs[\[75\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Id%2C%20INT%20IDENTITY%20%28or%20BIGINT), proper constraint and index naming[\[77\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,FK%20constraint%20name%20%3D%20FK_ChildTable_ParentTable). Consistency here is important for maintaining a clean schema.  
\- **Data Types & Lengths:** Checking for obvious mistakes like using VARCHAR where NVARCHAR is needed (for text that could be international - names, addresses should be NVARCHAR[\[104\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=)[\[105\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20NVARCHAR%20supports%20Unicode%20,)). Are lengths reasonable (not too short to cause truncation in future, not ridiculously long)[\[106\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,world%20max%20%2B%2020)[\[107\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Be%20generous%20but%20not,world%20max%20%2B%2020)? Using DATETIME2 for timestamps (not old DATETIME)[\[108\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,if%20truly%20no%20time%20component), using BIT for boolean flags with default[\[109\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,NOT%20NULL%20with%20DEFAULT), etc. These heuristics are detailed in the Best Practices section below, and leads will correct any deviations unless there's a special reason.  
\- **Script Safety:** If there's a post-deployment script, is it idempotent? For example, using MERGE or checking for existence before inserting[\[80\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,MERGE%20or%20IF%20NOT%20EXISTS)[\[81\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=MERGE%20INTO%20OrderStatus%20). If not, the lead will ask for it to be rewritten to avoid future deployment issues.  
\- **OutSystems Impact:** Did the developer note if an OutSystems refresh is needed and which apps might be affected? Leads will verify if a change is breaking for OutSystems. For instance, dropping a column would break any OutSystems reference - such a change needs coordination (and likely a feature toggle or multi-step migration).  
\- **Performance Considerations:** For anything beyond trivial changes, is there any performance risk introduced? E.g., adding a column that will be frequently filtered or sorted without an index - might suggest adding an index or at least leaving a comment to revisit if needed. Or if a new table might grow large, ensure appropriate indexing and data types to handle scale.  
\- **Testing Plan:** The lead may ask "How did you test this?" expecting that you at least built and maybe published locally. They might suggest additional tests (e.g., "Did you try running the deployment script to see if it throws any data loss warnings?").  
\- **No-go Signs (PR Blockers):** Some things will cause an immediate "please fix and resubmit": for example, if they spot a _SELECT \*\* in a view or query_[_\[25\]_](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20list%20columns)_, or a missing refresh note for an OutSystems-impacting change, or a non-null column on existing table without default_[_\[19\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20It%27s%20Bad%2A%2A%3A%20,Database%20unchanged%2C%20app%20broken)[_\[110\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=,NULL)_, or a manual table rename not done via refactor (detected by presence of a drop/create instead of alter in the script). These are often the anti-patterns listed earlier. Leads have been advised to specifically watch for the top 5 critical anti-patterns_[_\[31\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=Dev%20Lead%3A%20Watch%20For%20These,in%20PRs)_: - Forgetting the Integration Studio refresh (they might add a comment "Remember to refresh OS after deploy")_[_\[111\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2APriority%20Anti,deployment%20will%20fail)_. - Non-idempotent scripts (they'll check any INSERTs without conditions)_[_\[31\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=Dev%20Lead%3A%20Watch%20For%20These,in%20PRs)_. - FKs without indexes (they'll request an index)_[_\[111\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2APriority%20Anti,deployment%20will%20fail)_. - Manual renames (if they see suspicious drops in the diff, they'll ask if you used refactor)_[_\[111\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2APriority%20Anti,deployment%20will%20fail)_. - NOT NULL added where it could fail deployment (they'll double-check for DEFAULT or see if data migration is handled)_[_\[112\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=,deployment%20will%20fail)_. -_ _Approve and Merge:_\* If all looks good (or once issues are fixed), the lead approves the PR. Merging will trigger the build/deploy process for Dev at 3 PM.

Knowing this checklist, you can self-review your work before asking for one, which will make the whole process faster and smoother.

### Handling Pull Request Delays

The team expressed worry about PR delays slowing them down. With the process above, we've tried to minimize that friction: - By having a daily deployment window, even if you miss one day's 2 PM cutoff, it's just one day turnaround. - Dev leads will batch-review PRs at the cutoff, rather than context-switching all day. This means you get focused attention at a known time. - If something truly urgent comes up off-cycle, we have an "exception for emergencies with lead approval"[\[95\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Submitted%20by%202%3A00%20PM%20%E2%86%92,next%20day%20at%203%3A00%20PM), so you won't be blocked in a crisis (but we'll use that rarely). - Over time, as the team gets used to this, reviews will become quicker (many issues caught early or template covers them). Also, more team members (seniors) will be able to review simple changes, not just leads, once everyone is up to speed. - Remember, the goal of reviews is to **prevent mistakes in Test/Prod** and to mentor everyone on best practices. It's a short-term cost for long-term benefit. We'd rather spend an extra hour in PR now than debug a production issue for a day later.

## Team Roles and Responsibilities (Swim Lanes)

With the new governance, we're also clarifying who is responsible for what level of tasks. Not everyone is expected to do complex operations on day 1 - and that's okay. We have "swim lanes" for different experience levels[\[113\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%94%82)[\[114\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%94%82%20Senior%20Developer%20%282,%E2%94%82%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98) to ensure people operate with appropriate guidance:

### Junior Developers (0-1 year DB experience)

Most of our OutSystems devs fall here initially (new to SSDT/DACPAC). **Goal:** get comfortable with simple changes and learn steadily.  
**What Juniors CAN do independently:** Basic schema changes and routine tasks, for example[\[115\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=):  
\- Add a nullable column to a table[\[116\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20script) (as we did in the walkthrough).  
\- Add a new table (with simple columns, no tricky relationships)[\[116\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20script).  
\- Add an index on a single column[\[116\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20script) (e.g., index a foreign key).  
\- Modify reference data via post-deployment script (simple insert/update)[\[116\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20script).  
\- Use the process: create PRs with templates, respond to review comments, build/test locally, refresh Integration Studio after deploy, update their OutSystems apps, and follow the daily release train routine[\[117\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,in%20daily%20deployment%20rhythm). These are all things this guide enables them to do by following steps.  
\- Continue learning: read the playbooks, ask questions on Slack (#database-help), shadow seniors on complex changes, attend the DB team's office hours[\[118\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Practice%20on%20sample%20database).

**Where Juniors NEED guidance (yellow light):** More complex tasks that they might attempt but should have a buddy[\[119\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=):  
\- Adding a NOT NULL column to an existing table (requires understanding defaults/migration)[\[120\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20migration).  
\- Adding foreign keys (and ensuring related indexing)[\[120\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20migration).  
\- Writing more complex post-deployment scripts (multi-step data migrations)[\[120\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20migration).  
\- Resolving a merge conflict or a build error they haven't seen[\[121\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Troubleshoot%20Integration%20Studio%20connection%20issue).  
\- Basically, anything beyond the "happy path" might need a quick consult with a senior or lead (15-30 minutes of pairing can save a lot of trouble)[\[122\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%F0%9F%9F%A1%20Write%20complex%20post)[\[121\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Troubleshoot%20Integration%20Studio%20connection%20issue).

**What Juniors SHOULD NOT do alone (red light):** High-risk operations are off-limits without a senior guiding[\[123\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%9D%8C)[\[124\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Breaking%20changes%20to%20OutSystems%20apps):  
\- Renaming tables or columns (very tricky with refactoring and potential data moves)[\[125\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHigh,Breaking%20changes%20to%20OutSystems%20apps).  
\- Dropping columns or tables (data loss and broad impact)[\[125\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHigh,Breaking%20changes%20to%20OutSystems%20apps).  
\- Changing data types on columns that have data (needs careful migration)[\[126\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20Rename%20table%2Fcolumn%20,Breaking%20changes%20to%20OutSystems%20apps).  
\- Complex multi-table refactors or large-scale data migrations (millions of rows)[\[126\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20Rename%20table%2Fcolumn%20,Breaking%20changes%20to%20OutSystems%20apps).  
\- Anything that breaks OutSystems apps significantly (these require coordination and often feature toggles).  
\- Also, juniors shouldn't be the ones deploying to Test/Prod or approving PRs or making architecture decisions - those responsibilities lie with leads until the junior gains more experience[\[127\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,standards%20%E2%9D%8C%20Troubleshoot%20production%20issues).

**Learning Path:** By end of Week 1, a junior should be able to independently do the basic tasks (add columns/tables, refresh, build without errors) and know when to get help[\[128\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=). By end of Month 1, aim to handle ~80% of typical changes without hand-holding (including writing correct defaults, simple migrations, etc.)[\[129\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,sufficient). By Month 3, they may progress to mid-level, capable of resolving merge conflicts and mentoring newer folks on basics[\[130\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%98%90%20Contribute%20to%20process%20improvements).

### Mid-Level Developers (1-2 years DB experience)

These folks are comfortable with SQL and the new workflow. They can handle everything a junior can, plus more complex tasks:  
\- **Independently:** Add NOT NULL columns with defaults, create tables with relationships (foreign keys) and ensure all indexes[\[131\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=), write multi-step migration scripts, create composite or covering indexes for performance[\[131\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=), handle most merge conflict resolutions, optimize queries, and also review juniors' PRs, etc. Basically, they can execute the majority of tasks following best practices without needing hand-holding[\[132\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%9C%85%20Resolve%20most%20build%20errors)[\[133\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9C%85%20Create%20composite%20indexes%20%E2%9C%85,with%20checklist%29).  
\- **Needs Guidance:** on truly complex or high-impact changes: refactoring big tables, heavy performance tuning, any change requiring coordination across many apps or a phased rollout[\[134\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=). They'd discuss design with a senior/lead before implementation.  
\- **Not Alone:** Mid-levels still shouldn't make architectural decisions in isolation or set new precedent-breaking standards - those go through leads. They also typically won't handle Prod issues alone (unless they have become a de facto lead in experience).

Mid-level devs will serve as a backbone of the team to implement and also to assist juniors, acting as first line for questions where they have experience.

### Senior Developers (2-4+ years, strong DB experience)

Seniors are expected to handle advanced scenarios and provide guidance:  
\- They can do all the above plus drive **table refactoring, performance tuning, large data migrations**, etc., often authoring the approach for those and possibly pairing with a junior to execute (to spread knowledge).  
\- Seniors are mentors: they review PRs from juniors and mid-levels not just for correctness but to teach best practices. They help resolve thorny merge conflicts or deployment failures (they'll likely author the runbooks for recovery).  
\- They collaborate with the Staff/Lead on architectural decisions and standards. If they see a pattern of issues, they propose improvements (like changes to our process or templates).

### Staff/Lead Developers (4+ years, or DB Architects)

Staff engineers or tech leads own the overall quality and architecture of the database:  
\- They set and enforce standards (naming, design patterns, performance benchmarks). Much of the content in this guide (conventions and heuristics) comes from their collective wisdom.  
\- They are the ultimate reviewers for critical changes (especially anything going to production). They might pair with a developer on the first few complex refactors to ensure success.  
\- They also handle coordination beyond the team - e.g., aligning our DB changes with other systems, scheduling production deployments after hours, etc.  
\- Essentially, they ensure the team is following the "north star" of best practices and that we're not painting ourselves into corners.

_(The swim lanes above aren't rigid rules but guidelines. They exist to protect you and the project. If you're a junior and find yourself needing to do something from the red list, that's a signal to involve a senior - not a criticism of ability, but a chance to learn and avoid costly mistakes.)_

## SQL Development Best Practices & Heuristics

This section codifies the key _best practices_ you should follow in day-to-day database development. Think of these as rules of thumb gathered from experience to prevent common errors and improve quality. Many are the flipside of the anti-patterns we warned against. We've organized them by category for easier reference.

### Philosophy: Guiding Principles

- **Schema is Code:** Treat database schema like application code[\[135\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Guiding%20principles%3A). It must be in version control, undergo code review, be tested, and be documented. The move to SSDT/DACPAC reflects this principle - every schema change is now tracked and reviewable.
- **Data is Sacred:** Never take data loss lightly[\[136\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=2.%20Data%20is%20Sacred%20,Never%20assume). Backup data before major changes, preserve it through migrations, and double-check changes. A seemingly simple change can have big data implications, so always ask "What happens to existing data?" and have a plan for it.
- **Performance Matters (Early):** Design with scale in mind[\[137\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=3.%20Performance%20Matters%20Early%20,Measure%2C%20don%27t%20guess). Assume tables will grow to millions of rows and design indexes/queries accordingly. Always index foreign keys[\[78\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,clustered%20index.%20No%20exceptions), avoid obviously slow patterns (like functions in WHERE clauses), and test with large data when possible. It's easier to build performance in now than to fix a slowdown later.
- **Explicit Over Implicit:** Be explicit in schema and queries[\[138\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=4.%20Explicit%20Over%20Implicit%20,Comment%20intent%2C%20not%20mechanism). Name your constraints (so they're understandable), avoid SELECT \* (explicitly list columns), use proper data types (no ambiguity), and write code that clearly states intent. This reduces surprises and bugs[\[25\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20list%20columns).
- **Team Over Individual:** Follow team conventions and processes even if they feel cumbersome[\[139\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=5.%20Team%20Over%20Individual%20,Document%20for%20future%20you). Use the agreed naming, fill out the PR templates, communicate your changes. This consistency saves everyone time and makes onboarding new team members easier. We succeed or fail as a team, so share knowledge and adhere to standards.

Keep these principles in mind; they're the "spirit" behind the concrete rules below.

### Heuristics by Category

#### Data Types & Lengths

- **Text Data - NVARCHAR vs VARCHAR:** Use NVARCHAR for any **user-entered or free text** (supports Unicode characters), and VARCHAR for **fixed codes or non-user data** that's strictly ASCII[\[104\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=)[\[105\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20NVARCHAR%20supports%20Unicode%20,). _Example:_ FirstName NVARCHAR(50) (since names can have international characters), but CountryCode VARCHAR(2) if storing ISO country codes. Emails can often be ASCII only, but consider if international emails might appear (generally, email addresses are mostly ASCII so VARCHAR is acceptable as in our code base)[\[140\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Examples%3A%20%E2%9C%85%20NVARCHAR,only).
- **String Length Sizing:** Don't arbitrarily use NVARCHAR(MAX) or overly large lengths "just in case". Pick a length that makes sense with ~20% headroom[\[106\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,world%20max%20%2B%2020). _Examples:_ Name fields 50 or 100 chars, not 1000. City maybe 50. Phone 20 (we used 20 earlier)[\[141\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Common%20sizes%3A%20,avoid%20if%20possible). Too short causes truncation issues; too long wastes space and can hurt performance (especially NVARCHAR(MAX) which can spill into slower storage).
- **Numeric Types:** Default to INT for primary keys and counts unless you truly expect more than ~2 billion records[\[142\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,DECIMAL%20for%20money). Only use BIGINT if you anticipate extremely large counts (it's 8 bytes vs 4 bytes). For money, use DECIMAL(10,2) for typical currency (supports up to 99999999.99 which is usually enough)[\[143\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,DECIMAL%20for%20money). Avoid using FLOAT/REAL for anything requiring precision (like money) due to rounding issues[\[144\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,only%20if%20precision%20not%20critical).
- **Date/Time:** Always use DATETIME2 (with no specific need to specify precision, default is fine) for timestamps[\[108\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,if%20truly%20no%20time%20component). It's more precise and has a larger range than the older DATETIME. Use DATE if you truly only need the date portion (like a birthdate)[\[145\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,if%20truly%20no%20time%20component). We avoid the old SMALLDATETIME or DATETIME unless dealing with legacy.
- **BIT for Booleans:** Use BIT for true/false flags, and always set them NOT NULL with a default of 0 or 1 as appropriate[\[109\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,NOT%20NULL%20with%20DEFAULT). This ensures a boolean column is never null (unknown). For example, IsActive BIT NOT NULL DEFAULT 1 for active flag[\[146\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20BIT%20for%20true%2Ffalse,NULL%20with%20DEFAULT). This is both storage-efficient and avoids three-state logic bugs.

#### Naming Conventions

- **Tables & Entities:** Use **singular nouns** for table names[\[147\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,a%20row%20represents%20one%20X) (each row _is_ one entity). E.g. Customer, Order, OrderItem. This aligns with OutSystems too (entities are singular). It makes phrases like "Customer.FirstName" natural. Plural table names (Customers) are discouraged for consistency[\[148\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9C%85%20Customer%20,%E2%9D%8C%20Customers%2C%20Orders%2C%20OrderItems).
- **PascalCase:** We use PascalCase (also called UpperCamelCase) for **all** database identifiers - tables, columns, constraints, etc.[\[103\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,No%20spaces%2C%20underscores%2C%20or%20hyphens). No spaces or underscores. E.g. OrderDate not order_date. This matches how OutSystems names things, reducing mental context switching.
- **Primary Keys:** The primary key of a table is &lt;TableName&gt;Id[\[75\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Id%2C%20INT%20IDENTITY%20%28or%20BIGINT). So CustomerId for Customer, OrderItemId for OrderItem, etc. This makes it obvious in joins what you're joining on. Avoid generic "Id" or non-standard names. Using the table name in the PK also avoids collisions when writing queries with multiple tables.
- **Foreign Keys:** Name foreign key constraints as FK_&lt;ChildTable&gt;\_&lt;ParentTable&gt;[\[77\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,FK%20constraint%20name%20%3D%20FK_ChildTable_ParentTable). This immediately tells you the relationship (e.g. FK_Orders_Customers). It's easier to find in the schema and in error messages. (SQL Server auto-names FKs if you don't, but those are gibberish GUIDs - we prefer meaningful names).
- **Indexes:** Name indexes as IX_&lt;TableName&gt;\_&lt;Column1&gt;\_&lt;Column2...&gt;[\[149\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Rule%3A%20IX_TableName_Column1_Column2). For single-column indexes, IX_Table_Column is fine. For multi-column, include all, or a logical subset if too long. The idea is someone can look at the name and know what it covers. For unique indexes, some prefix with UX, but we often just rely on the unique constraint naming. In any case, no need for "IDX" or lowercase - stick to our PascalCase pattern.
- **Others:** Default constraints can be named DF_&lt;Table&gt;\_&lt;Column&gt; though often letting SSDT auto-name default constraints is okay (since they're not typically referenced by name). For consistency, we sometimes name them for clarity. Similar for check constraints: CK_&lt;Table&gt;\_&lt;ColumnOrPurpose&gt; if you add any.

#### Nullability & Defaults

- **Null vs Not Null:** If a column must always have a value for a record to be valid, make it NOT NULL from the start[\[150\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,if%20value%20optional%20or%20unknown). This includes primary keys (always not null), foreign keys in most cases (if the relationship is mandatory), and crucial audit fields like CreatedDate[\[151\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Always%20NOT%20NULL%3A%20,use%20DEFAULT). Use NULL for genuinely optional data (middle name, second address line, etc.) or "unknown until later" fields[\[152\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Usually%20NULL%3A%20,ShippedDate%20on%20pending%20order). Don't default to making everything NOT NULL - that often leads to bogus "placeholder" data just to satisfy constraints.
- **Defaults Required for NOT NULL Additions:** When adding a new NOT NULL column to a table that already has data, you **must provide a DEFAULT** or do a data migration to populate it[\[153\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20provide%20DEFAULT%20for%20flags)[\[27\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Empty%20string%20default). If you don't, deployment will fail (to protect you from data loss)[\[19\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20It%27s%20Bad%2A%2A%3A%20,Database%20unchanged%2C%20app%20broken). As a rule: anytime you add a NOT NULL to an existing table, think _"what will existing rows get as a value?"_. Provide a default even if it's temporary. For flags, default 0 or 1 as makes sense; for strings, maybe an empty string or "Unknown". Or break it into two steps: add as NULL, backfill data, then alter to NOT NULL in a later deployment.

#### Indexing Strategies

- **Index Foreign Keys:** As mentioned, every foreign key column **must have an index**[\[78\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,clustered%20index.%20No%20exceptions)[\[79\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,CustomerId). This ensures joins (which occur whenever you link those tables) are fast. Without it, the database might scan a huge table to find related rows. Our reviews will catch if you add a FK and forget the index.
- **Index for Order By:** If a query is frequently run and sorts on a column (especially in combination with a filter), consider indexing that sort key. A common pattern is indexing date columns for "recent data" queries. E.g., for "get recent orders for a customer", an index on (CustomerId, OrderDate DESC) helps to both filter and sort[\[154\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,usually%20DESC%20for%20recent%20items)[\[155\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,CustomerId%2C%20OrderDate%20DESC). Without the index, sorting 1M rows could be slow.
- **Covering Indexes for Hot Queries:** A "covering index" includes all the columns a query needs (either as key or as INCLUDE) so the query doesn't have to touch the main table at all. If you identify a query that runs extremely often (hundreds or thousands of times per minute) and the same pattern, adding an index that covers it can yield big performance gains[\[156\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,consider%20covering%20index%20with%20INCLUDE)[\[157\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,OrderId%2C%20TotalAmount%2C%20Status). Use sparingly because indexes have a cost on writes, but for read-heavy scenarios, they're golden.
- **Index Column Order Matters:** In composite indexes, put the most selective (or most frequently used in equality conditions) column first[\[158\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,column%20first%20in%20composite%20index)[\[159\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20CREATE%20INDEX%20IX_Orders_Status_CustomerId%20ON,Status%2C%20CustomerId). E.g., if you query by CustomerId and Status, and CustomerId usually filters down to a small subset, it should be first, followed by Status[\[160\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,rows%2C%20Status%20matches%2010%2C000%20rows). Also, equality conditions before range conditions (typical rule). The goal is to maximize how effectively the index can be used to narrow data.
- **Don't Over-Index:** Although not explicitly in the notes, remember that each index slows down inserts/updates. We want necessary indexes, but not duplicate or unused ones. Use our judgement or measure if in doubt. If a new feature needs a new index, add it; if you're not sure, you can add and monitor, or wait until an issue arises (but missing obvious ones like FKs is not acceptable).

#### Query and Code Patterns

- **Write SARGable Queries:** "SARGable" means a query can use an index seek rather than a full scan. The classic rule: **don't wrap indexed columns in functions** in your WHERE clause[\[161\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Rewrite%20to%20direct%20comparison). E.g., WHERE YEAR(OrderDate) = 2025 is non-sargable (it will compute year for every row)[\[162\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20Non,Email%2C%201%2C%205%29%20%3D%20%27admin). Instead do WHERE OrderDate >= '2025-01-01' AND OrderDate < '2026-01-01'[\[163\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9C%85%20SARGable%20,WHERE%20Email%20LIKE%20%27admin). Similarly, use LIKE 'abc%' rather than LEFT(Column,3)='abc'. This way indexes on those columns can be used[\[164\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20Non,Email%2C%201%2C%205%29%20%3D%20%27admin). We mention this because sometimes in OutSystems Advanced Queries you might be tempted to use functions - avoid it for any query hitting large tables.
- **SELECT \* is Forbidden (in application code):** Always list the columns you need[\[25\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20list%20columns). This avoids breaking consumers when schema changes, avoids pulling data you don't need, and is clearer to anyone reading the code which fields are used[\[26\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Never%20SELECT%20,Always%20list%20columns)[\[165\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20,still%20bad%20habit%20though). In our context, OutSystems aggregates force you to pick columns anyway, but Advanced Queries could use \*. Don't. Even in SSMS, it's a bad habit - but at least never in checked-in code or server-side logic.
- **Use Proper JOIN Syntax:** Write joins with explicit JOIN ... ON clauses[\[166\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,INNER%20JOIN%20is%20default). Do not use old-school comma joins in the WHERE clause[\[167\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=FROM%20Customers%20c%20INNER%20JOIN,IsActive%20%3D%201). Explicit joins are less error-prone (no accidental cross join) and make it easier to add join conditions. This is more relevant in hand-written queries or if you ever write stored procedures.
- **Don't Overuse Cursors or RBAR:** Not in the notes, but worth stating - set-based operations are preferred in SQL. We haven't been using stored procedures much, but if you do any scripting, try to use single UPDATE/INSERT statements or set-based loops (like a WHILE with UPDATE TOP (n) as shown in batching) rather than row-by-row processing.

#### Schema Design & Integrity

- **Audit Columns on Every Table:** Our standard is each table (that isn't purely a join table) should have CreatedDate, CreatedBy, ModifiedDate, ModifiedBy columns[\[76\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,gets%20these%204%20audit%20columns). CreatedDate/By default to current timestamp and user[\[168\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Template%3A%20,ModifiedBy%5D%20NVARCHAR%28100%29%20NULL); Modified get set on updates (OutSystems can set these via logic or we use triggers in some cases). These help trace data lineage and are invaluable in debugging. Make it a habit: whenever creating a new table, include these four columns.
- **Soft Deletes over Hard Deletes:** Rather than deleting rows, consider a "soft delete" approach using an IsDeleted flag[\[169\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Flag%20as%20deleted%20instead)[\[170\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Don%27t%20delete%20data,as%20deleted%20instead) (and perhaps DeletedDate/DeletedBy). This way, data can be recovered or audited later[\[171\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=UPDATE%20Customers%20SET%20IsDeleted%20%3D,WHERE%20CustomerId%20%3D%20%40id). In our OutSystems context, this might not be used everywhere, but for critical data we lean towards not physically deleting. It adds a bit of complexity (you have to filter out IsDeleted=1 in queries, which a filtered index can help with[\[172\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Customers%20WHERE%20IsDeleted%20%3D%200)), but it's often worth it.
- **Normalize, But Don't Fear Denormalization (When Needed):** Start with a normalized design (3rd normal form) by default[\[173\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,only%20when%20measured%20performance%20problem). Each entity in its own table, use foreign keys, avoid duplicate data. This prevents anomalies and maintains integrity. However, once the system is running, if performance demands it, it's okay to denormalize in specific cases (like adding a summary table, or caching a count)[\[174\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,only%20when%20measured%20performance%20problem)[\[175\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Denormalize%20%28only%20if%20needed%29%3A%20,Audit%20data%20snapshots). But do this only after measuring a problem - premature denormalization leads to unnecessary complexity[\[176\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20Normalization%20reduces%20bugs%2C%20improves,Measure%20first%2C%20optimize%20second). In short, design well, but always be ready to adjust with evidence.
- **Use Surrogate Keys with Natural Key Constraints:** Our preference is to have an integer surrogate primary key (Id), and if there is a natural unique key (like an email address for a User, or composite code), put a UNIQUE constraint on that[\[177\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Natural%20keys%20as%20UNIQUE%20constraints)[\[178\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20Surrogate%20keys%20stable%20,use%20natural%20key%20as%20PK). This gives you stability (surrogate keys never change) and still enforces business rules (natural keys unique)[\[179\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=CustomerId%20INT%20IDENTITY,). The exception might be small lookup tables where a natural key is truly static (like a list of fixed statuses), those can sometimes be the primary key if it simplifies things[\[180\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20Surrogate%20keys%20stable%20,natural%20key%20as%20PK).

#### Deployment & Operational Practices

- **Always Test Locally First:** Before pushing a change, you should build the project and ideally publish it to your local database (or a localdb) to verify it works as expected[\[22\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,local%20DB%20before%20submitting%20PR)[\[181\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Build%20and%20deploy%20to,local%20DB%20before%20submitting%20PR). This catches issues early - e.g., a script that fails or an unexpected diff (maybe you forgot to add a table and it wants to drop something). It only takes a few minutes and can save a lot of headache in PR or later. Our heuristic: if possible, deploy your DACPAC to an isolated environment (like local) for every significant change before PR[\[182\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=1,THEN%20commit%20and%20PR).
- **Small Commits & PRs:** Don't lump many changes together[\[100\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Multiple%20changes%20%3D%20multiple%20PRs). Databases can be tricky to roll back; if one part of a large change fails, it complicates the whole deployment. It's safer to do incremental, self-contained changes. Also easier for others to review and for you to manage if something goes wrong. The heuristic given: aim for <10 files changed per PR[\[183\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=). For example, adding a new table might touch 2-3 files (table script, maybe a reference data script, maybe a view), which is fine. But adding 3 new features in one go could touch 20 files, better to split.
- **Idempotent Scripts:** All deployment scripts (especially post-deployment data changes) should be written to **have no side-effects if run twice**[\[80\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,MERGE%20or%20IF%20NOT%20EXISTS)[\[81\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=MERGE%20INTO%20OrderStatus%20). Because our deployment process runs the same scripts in every environment, and if something partially applied, you might re-run them. Use IF NOT EXISTS, WHERE clauses, or MERGE to ensure you're not inserting duplicates or failing on second execution. Always consider: "If I deploy this again, what happens?" It should either do nothing or repeat safely. This also means avoid things like time-based conditions that would do something different later. Test by publishing your project twice in a row locally; the second time should have no errors and no new data added.

#### Performance and Scale

- **Think at Scale (1M+ Rows):** Even if a table has 100 rows today, design as if it will have millions[\[184\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,even%20if%20starting%20with%201000). This means: add indexes for queries that will matter, choose data types wisely (e.g., an INT for a key gives you up to ~2 billion records, do you need bigger?), and consider partitioning or archiving strategy upfront if you expect explosive data growth. You don't necessarily implement partitioning day 1, but be aware if something might be needed. The point is to avoid assumptions that "this table will always be small" - those assumptions often break and cause firefighting. A little foresight can save a lot of pain[\[185\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Questions%20to%20ask%3A%20,Do%20we%20need%20archiving%20strategy).
- **Batch Large Data Changes:** If you have to update or migrate a lot of data (say more than 10k or 100k rows), do it in batches to avoid locking and timeouts[\[186\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,rows%20%3D%20batch%20in%20chunks)[\[187\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=DECLARE%20%40BatchSize%20INT%20%3D%2010000%3B,1%20WHERE%20Processed%20%3D%200). The notes provide a pattern: update top N, loop, with a delay[\[187\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=DECLARE%20%40BatchSize%20INT%20%3D%2010000%3B,1%20WHERE%20Processed%20%3D%200). This prevents long transactions that could lock tables. We used this approach in the "Split FullName" example, where we updated in chunks of 1000 with a short delay[\[188\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,DECLARE%20%40RowsAffected%20INT%20%3D%20%40BatchSize)[\[189\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=ELSE%20SUBSTRING,Only%20process%20unmigrated%20rows). This is especially important for Prod deployments where downtime must be minimal. Use transaction handling carefully too - sometimes breaking a large operation into multiple transactions is safer.
- **Measure, Don't Guess:** Use actual execution plans and test queries with realistic volumes to identify bottlenecks[\[190\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,not%20intuition%2C%20for%20performance%20tuning)[\[191\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,measure%206.%20Repeat). Developers often try to anticipate performance issues - sometimes we're right, often we're wrong. The rule is: if performance is key for a piece of code, measure it. Use SQL Server's Execution Plan (Ctrl+M in SSMS to include the actual plan)[\[192\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Process%3A%201,Fix%20one%20thing). Look at the plan for scans, key lookups, or high-cost operations. If you see a missing index suggestion, consider adding it (with caution). If something is 80% of the batch cost, focus there. This scientific approach beats tribal knowledge.

#### Safety & Recovery

- **Backup Before Risky Changes:** If a change involves **dropping anything with data** (drop table, drop column, etc.), take a backup of that data first[\[193\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,column%2Ftable%20with%20data%3F%20Backup%20first). In Dev/Test, maybe you can be more lenient, but in Prod, _always_ back up. Even if we have a full DB backup, pulling just the affected data is faster for recovery. For example, before dropping a column, you might SELECT thatColumn INTO #TempTable or a new table to preserve it[\[194\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Dropping%20column%2Ftable%20with%20data%3F,Backup%20first). The deployment can proceed to drop it (with /p:BlockOnPossibleDataLoss=False if you've made that decision after backup[\[195\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%202%3A%20Blocked%20by,Data%20Loss)[\[196\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,loss%20is%20acceptable)). If something goes wrong, you have the data. Or if product says "we actually needed that data," you can restore it. This is cheap insurance. Delete your backup table after verification to avoid confusion.
- **Use Transactions and Error Handling:** The SSDT deployment engine will wrap many changes in a transaction, but not always everything (some operations cannot be transactional). If you write custom scripts, consider wrapping them in transactions where appropriate, with proper rollbacks on error. But also be mindful: a long transaction can lock users out, so for huge scripts maybe avoid one giant transaction. It's a balance.

_(The above best practices list is extensive, but don't be overwhelmed. Over time, these should become second nature. The PR checklist and code reviews will help reinforce them. You can also refer back here whenever you're unsure about how to approach something.)_

## Troubleshooting & Support Resources

No matter how much we prepare, issues will happen. This section tells you how to get un-stuck quickly when you hit a problem.

### Common Build Errors and How to Fix

If your Visual Studio build fails, here are the most frequent errors and resolutions (from our Troubleshooting Flowcharts):

- **Unresolved Reference (SQL71501):** _Error example:_ "Procedure \[dbo\].\[GetOrders\] has an unresolved reference to object \[dbo\].\[Orders\].\[CustomerId\]"[\[48\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,Add%20GO%20between%20CREATE%20statements)[\[49\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=). This means something in your code references a table/column that isn't recognized. **Fix:** Usually a typo in the name (check casing and spelling exactly as in the project)[\[197\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,%E2%9D%8C%20ID%20capitalized%20wrong), or you forgot to add a new object to the project. If it's referencing an object in another database, you might need a database reference in the project. Also ensure you have the correct schema prefix (use \[dbo\]. prefix on all object references)[\[198\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,%E2%9D%8C%20Missing%20schema).
- **Missing GO Separator (SQL71006):** _Error:_ "Only one statement is allowed per batch"[\[199\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,%E2%94%82)[\[200\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,Separator). This often happens if you manually combined multiple CREATE statements in one .sql file. **Fix:** Separate them with GO lines[\[201\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,%E2%9D%8C%20Error%20here). In our project structure, usually each table or proc is its own file, so this is less common, but if you put multiple DDL statements in Script.PostDeployment, etc., remember to delimit batches.
- **Syntax Error Near ')':** This typically indicates a comma issue in a CREATE TABLE or similar[\[46\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,Rename%2C%20don%27t%20edit%20manually%20%E2%94%82)[\[47\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,). Either a missing comma between columns or a trailing comma before the closing parenthesis. **Fix:** Check the lines around where it points. Ensure every column line has a comma except the last one before )[\[202\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,50%29%20%29%3B)[\[203\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,). This error can sometimes also be caused by misplacing parentheses or quotes, but comma is the first thing to check.
- **Conflicting RefactorLog (SQL71558 about renaming):** _Error:_ "Cannot rename \[X\] to \[Y\]â€¦"[\[82\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%82%20%E2%94%9C%E2%94%80%20Error%3A%20,Rename%2C%20don%27t%20edit%20manually%20%E2%94%82)[\[204\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,). This occurs if you manually renamed an object that SSDT is also tracking in a refactor log, or you did it without using the refactor properly. **Fix:** The safe way is to _undo the manual change_ and use Visual Studio's **Refactor â†’ Rename** so it updates the refactor log properly[\[83\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,instead%20of%20using%20Refactor%20menu). If you already messed it up, you might need to fix or edit the refactor log (advanced) or in worst case, drop and recreate - but better ask for help in this case.

If build fails, don't panic. The **Troubleshooting Flowchart** suggests: read the error message carefully, double-click to go to the location, and check these common issues[\[50\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=Quick%20Build%20Checklist). Try a **Clean** and rebuild if something weird is stuck. If you're still stuck after 15 minutes, seek help on Slack (#database-help) and paste the error message (and what you've tried)[\[205\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%82%20%E2%94%94%E2%94%80%20Other%20syntax%20error,help%20with%20screenshot)[\[206\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=1,help%20with%20error%20screenshot).

### Deployment Errors and Recovery

Sometimes publishing to a database fails. Here are a few scenarios and how to respond:

- **Timeout Expired:** The deployment timed out (60 seconds default)[\[207\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%201%3A%20Timeout%20During,Large%20Operation), likely because it was altering a huge table or running a big script. **Impact:** If the operation was in a transaction, it might have auto-rolled back[\[208\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Deployment%20failed%3F%20%E2%94%82%20%E2%94%9C%E2%94%80%20In,recovery%20%E2%94%82%20%E2%94%94%E2%94%80%20What%20failed). Check if any changes went through. **Recovery:** If nothing applied, you can simply increase the timeout and retry[\[209\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,instead%20of%2060%20seconds) (SqlPackage has a /p:CommandTimeout property[\[210\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=SqlPackage.exe%20%2FAction%3APublish%20%60%20%2FSourceFile%3A,instead%20of%2060%20seconds)). If partial, you may need to kill a hanging transaction first[\[211\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,FROM%20sys.dm_tran_active_transactions)[\[212\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,0) (find session and KILL it[\[213\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,0)) then retry. For very large operations, consider pre-splitting the script as mentioned (run heavy data changes manually or in chunks)[\[214\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=).
- **Data Loss Blocker:** Error like "Deployment blocked due to possible data loss"[\[195\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%202%3A%20Blocked%20by,Data%20Loss) - this happens if the DACPAC detects you're dropping a column or table with data. By default it aborts rather than risk losing data. **Recovery:** Decide if the data loss is intended or not. In Dev, it might be okay to drop (you can allow it by setting BlockOnPossibleDataLoss=False)[\[196\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,loss%20is%20acceptable). In Test/Prod, you likely should not drop data blindly. Implement a _pre-deployment data backup_ or migration: e.g., copy data to a safe place, then allow the deployment, then do any post steps to reconcile[\[215\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,drop%20column%2C%20redesign%20approach)[\[216\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,PhoneBackup%20FROM%20Customers). Often the better path is to _deprecate_ data rather than hard-drop in one go (or do a soft delete pattern). If you see this error, it's a red flag - coordinate with leads on the plan.
- **Post-Deployment Script Failures:** If schema changes go through but a post-deployment script fails (e.g., a long-running data update times out)[\[217\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%203%3A%20Post,Failed)[\[218\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,New%20schema%2C%20old%2Fpartial%20data), you end up in a partial state: new schema is there, but data not fully migrated. **Recovery:** You'll likely need to fix the script and re-run it manually. First, assess what portion of data got updated (if any) and if continuing is safe. You might break the script into smaller chunks and run them. Meanwhile, the system might be in a usable state except that some new features/data might be inconsistent - so decide if you need to rollback or if you can quickly finish. This scenario is complex - engage the team (#database-help or #database-emergency if Prod) with the error details. The key is to get the database to a consistent state (either finish the migration or undo the schema change). In the worst case, we restore backup for Prod. But for Dev/Test, usually we can just reapply fixes.
- **General Approach:** The **Deployment Recovery Decision Tree** basically says: figure out if it was in a transaction (if yes, likely nothing changed), and what part failed (pre-script, schema, post-script)[\[219\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Strategy%20Decision%20Tree)[\[220\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=%E2%94%82%20%E2%94%94%E2%94%80%20What%20failed%3F%20%E2%94%9C%E2%94%80,%E2%86%92%20Schema%20applied%2C%20data%20not). That guides your next steps: retry vs manual intervention. Always communicate if in a team setting - e.g., if Test deployment fails, let others know so no one assumes it's fine.

We have detailed playbooks for "Recovering from Failed Deployments" (see Appendix) with step-by-step for different failure types, which you can consult when needed[\[207\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%201%3A%20Timeout%20During,Large%20Operation)[\[211\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,FROM%20sys.dm_tran_active_transactions). Don't be afraid to ask for assistance - even seniors can get puzzled by a weird deployment error, and a second set of eyes helps.

### OutSystems Integration Issues

Issues here usually fall into: - **OutSystems Entities Not Updating:** If you forget to refresh Integration Studio after a DB deploy, the symptoms will be things like: aggregates in Service Studio not seeing the new column/table, or runtime errors like "Invalid column name" for the new field. The fix is simply to do the refresh/publish step. If you did refresh and still see issues, maybe an OutSystems timing quirk - try publishing the consumer module again or ensure the extension actually published.  
\- **Integration Studio Errors on Refresh:** Sometimes Integration Studio might throw an error while refreshing (maybe a connection issue, or permission problem). Ensure you can connect to the database from that environment. If it's a permission issue, our platform team might need to adjust the account rights. If it's a connection thing, check that the environment configuration for the extension is correct (it uses a configuration to point to Dev/Test/Prod connection strings). Usually, these are set up, but first time cutover might have hiccups - reach out to outsystems-leads if something like that comes up.  
\- **Data Type Mismatch Warnings:** If you changed a data type, OutSystems might warn that the type changed. If it's a safe change (like int to bigint), OutSystems might handle it but sometimes it might break the typed structures. These situations need case-by-case handling (possibly creating a new entity and migrating, since OutSystems sometimes doesn't handle type changes seamlessly). Coordinate with leads on such changes _before_ doing them.

### Getting Help

We have support channels in place: - **Slack #database-help:** General questions, non-urgent troubleshooting. Many eyes (dev leads, seniors) are there to answer. Don't hesitate to ask even if it seems "basic." It's better to clarify than guess and cause an issue. Share error snippets or screenshots for quicker help.  
\- **Slack #database-emergency:** This is for critical production issues (or major deployment failures in Test/Prod). Use this along with paging the on-call DBA/lead if production is impacted[\[221\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=). There is an on-call rotation ("@db-on-call") - use it only for real emergencies.  
\- **OutSystems-specific (#outsystems-dev or outsystems-leads):** If the problem is clearly with the OutSystems side (like something in Service Studio or Integration Studio that's not working), loop in the OutSystems platform experts.  
\- **Office Hours:** The DB team will hold office hours Tuesdays and Thursdays at 2-3 PM[\[222\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AQuestions%3F%2A%2A%3A%20,3%20PM%20with%20DB%20team) where you can bring in-depth questions, design discussions, or just listen and learn from others' questions. Take advantage of this time.  
\- **Peer Mentoring:** Pair up with a colleague if you're doing something new. Two juniors together might solve something through brainstorming (plus it spreads knowledge). Or ask a mid-level/senior "hey can I shadow you doing X" or "can you review my approach for Y before I code it?" These interactions will speed up your learning significantly.

Remember, the goal of this cutover is not just to change tools, but to **level up our whole team's skills**. We expect a learning curve, and that's okay. As long as we communicate and document as we go (and we continue improving these guides), we'll get through the initial bumps and start seeing the benefits: fewer production issues, faster onboarding, and the ability to tackle more complex work confidently.

## Conclusion and Next Steps

Monday is just the beginning. This guide should get you through the immediate transition, but there's more depth to explore as you grow into this new workflow:

- **First Week:** Focus on mastering the basics - make a simple schema change, go through the PR and deployment process, ensure you can refresh OutSystems and update apps. By Friday, you should have done this at least once, and you should be able to do the common tasks independently (with this guide as a reference)[\[223\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Follow%20daily%20release%20train%20rhythm). Reflect on any issues you faced and share them so we can improve the process or docs.
- **Weeks 2-4 (Month 1):** Begin the **Learning Path** to deepen your understanding[\[224\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%93%9A%20Learning%20Path%20,Have%20Time). This includes reading more advanced playbooks (like handling merge conflicts[\[225\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Understanding%20Database%20Merge%20Conflicts)[\[226\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,requires%20discussion), complex refactoring[\[227\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=What%20is%20Table%20Refactoring%3F)[\[228\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=%2A%2AWhy%20it%27s%20complex%2A%2A%3A%20,Often%20breaking%20change%20for%20OutSystems), performance diagnostics, etc.), and maybe taking on a slightly more complex change under a mentor's guidance. The goal is by end of Month 1, you feel self-sufficient for most tasks and only need help for the really hairy stuff[\[129\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,sufficient). We have a condensed learning resource (to be provided) that covers database design and SQL tuning fundamentals to help you ramp up[\[229\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=16.%20Learning).
- **Month 3 and Beyond:** We expect that within a few months, this will feel "business as usual." At that point, developers who were juniors might be mid-level, able to mentor the next new hire on this process. We'll also work on more **advanced topics** (there's material planned for things like advanced patterns, an annotated resource list, and a comprehensive team standards guide)[\[230\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AArtifacts%20Needed%20Later%2A%2A%3A%2017.%20Advanced,Guide.md%20%288%20pages)[\[231\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=17.%20Advanced,Guide.md%20%288%20pages) to reach excellence in database development. You'll be invited to contribute to those as well - for instance, if you discover a better way to do something, we'll incorporate it into our standards. This continuous improvement mindset will keep our team sharp.

Finally, remember why we're doing this: to enable **safe, scalable growth** of our applications. OutSystems accelerates app dev, but as our apps grow, the data aspect needs solid engineering. By adopting these practices, we protect our company's data, improve performance, and reduce firefighting, all while making our work more collaborative and robust. It might feel like a lot of process now, but it will pay off the first time we catch a bug before it hits prod, or deploy a complex change without a hiccup.

Welcome to the "new normal" of database development. Refer to this document often - it's your roadmap. And contribute to it: if you learn something new, suggest adding it here for others. **We're all in this together, and together we'll succeed**. Good luck with the cutover, and see you Monday morning! ðŸš€

## Appendix

### Top 10 Database Anti-Patterns to Avoid

(_Summary of common pitfalls that can lead to errors or outages, with references to where discussed in guide._)

- **Making Schema Changes Outside the Project:** e.g., manually running ALTER TABLE in SSMS on Prod. _(Why bad: changes not tracked or reviewed, causes drift)_ - **Always use the SSDT project and PR pipeline**[**\[24\]**](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20DON%27T%20DO%20THESE%20,cause%20outages).
- **Forgetting OutSystems Refresh after DB Change:** Causes runtime errors due to mismatched schema. - **Always refresh Integration Studio post-deploy**[**\[11\]**](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20NEVER%20FORGET%20THIS%20STEP)[**\[16\]**](file://file_000000007df861f7aa4a9c5470877398#:~:text=Read%20%5BTop%2010%20Anti,in%20OutSystems%20queries).
- **Non-Idempotent Scripts:** Writing post-deployment scripts that insert or update without checks, so running them twice fails or duplicates data. - **Use MERGE or IF NOT EXISTS in scripts**[**\[80\]**](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,MERGE%20or%20IF%20NOT%20EXISTS).
- **Using SELECT \* in persistent code:** OutSystems aggregates or views that use \*. - **Select explicit columns**[**\[25\]**](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20list%20columns).
- **Missing Index on Foreign Key:** Adding a FK but not indexing it -> slow joins. - **Always add an index for each FK**[**\[78\]**](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,clustered%20index.%20No%20exceptions).
- **Using VARCHAR for User Text:** Not using NVARCHAR for data that may include Unicode (international characters). - **Follow data type heuristics (NVARCHAR for names, etc.)**[**\[104\]**](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=).
- **Ignoring Build/Deployment Errors:** Committing code that doesn't build, or not addressing warnings like data loss. - **Stop and fix errors; never force deploy through blockers without proper mitigation**[**\[19\]**](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20It%27s%20Bad%2A%2A%3A%20,Database%20unchanged%2C%20app%20broken)[**\[195\]**](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%202%3A%20Blocked%20by,Data%20Loss).
- **Manual Rename or Delete of Objects:** Dropping or renaming tables/columns without using proper refactoring or migration path. - **Use Refactor for renames**[**\[83\]**](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,instead%20of%20using%20Refactor%20menu)**; for deletions, consider soft delete or migrations**.
- **Deploying to Production Without Testing in Test:** Skipping environment workflow (Dev â†’ Test â†’ Prod)[\[232\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,straight%20to%20Prod%20%E2%9D%8C)[\[233\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Deploy%20to%20Prod%20after%20hours). - **Always promote through environments, let QA validate on Test**[**\[234\]**](file://file_000000007df861f7aa4a9c5470877398#:~:text=3,to%20Prod%20after%20hours)[**\[235\]**](file://file_000000007df861f7aa4a9c5470877398#:~:text=).
- **Adding NOT NULL Column to Filled Table with No Default:** Causes deployment failure[\[19\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20It%27s%20Bad%2A%2A%3A%20,Database%20unchanged%2C%20app%20broken). - **Either make it nullable first or provide a default/migration**[**\[21\]**](file://file_000000007df861f7aa4a9c5470877398#:~:text=).

_(See detailed explanations and examples in the anti-patterns document_[_\[18\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=%E2%9D%8C%20Anti,on%20Existing%20Table%20Without%20DEFAULT)[_\[27\]_](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Empty%20string%20default)_, and refer to Best Practices section for the "do this instead" for each.)_

### Advanced Playbooks and Learning Resources

- **Resolving Merge Conflicts in SSDT Projects:** When two devs edit the same table or refactorlog, Git conflicts can occur. Strategies include merging additive changes manually[\[236\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Conflict%20Type%201%3A%20Simple%20Additive,Easy)[\[237\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=), deciding on column order for overlapping changes[\[238\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Conflict%20Type%202%3A%20Overlapping%20Column,Moderate)[\[239\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=), and communicating when the same column is modified in two ways (e.g., data type differences)[\[240\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,50%29%20%20NOT%20NULL)[\[241\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,). Key lesson: talk to your teammate and agree on the final schema, then merge accordingly[\[242\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,50%29%20makes%20sense)[\[243\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,for%20%2B44%2C%20NULL%20for%20optional).
- **Complex Refactorings (Splitting/Merging Tables):** Covered in "Table Refactoring" guide. Often done in phases: add new structures, migrate data in batches (with scripts), update apps, then remove old structures[\[244\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Refactoring%20Pattern%201%3A%20Split%20Column)[\[245\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,15%20minutes)[\[246\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,30%20minutes). Always preserve data (e.g., the FullName split example uses a SchemaVersion table to ensure migration runs once[\[247\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=%2A%2AScript.PostDeployment.sql%2A%2A%3A%20%60%60%60sql%20,Running%20Migration%20001%3A%20Split%20FullName)[\[248\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=WHEN%20CHARINDEX,Only%20process%20unmigrated%20rows)). OutSystems integration needs coordination across all modules using the old structure before you drop it[\[249\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,1%20hour)[\[250\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,each%20OutSystems%20app%20using%20Customers).
- **Recovering from Failed Deployments:** If deployment fails mid-way, see the playbook with decision trees[\[219\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Strategy%20Decision%20Tree). For example, a partial deployment might require manually completing or rolling back changes. The guide includes checking for open transactions and killing them[\[211\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,FROM%20sys.dm_tran_active_transactions)[\[212\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,0), handling data loss flags by exporting data first[\[216\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,PhoneBackup%20FROM%20Customers)[\[251\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,preserve%20in%20audit%20table), and resuming failed scripts carefully. Always communicate during these events.
- **Performance Quick Checks:** There's material on quickly checking query performance: using SET STATISTICS IO ON and execution plans, looking for scans vs seeks, etc. We already covered many heuristics; the "measure, don't guess" motto applies.
- **Learning Path Resources:** A list of recommended readings/videos (internal or external) will be provided in the Learning Path doc (15-page condensed version[\[229\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=16.%20Learning)). It includes topics like relational design fundamentals, T-SQL best practices, execution plan analysis, and OutSystems-specific integration nuances. Make use of it to build a solid foundation.

Lastly, **celebrate progress**. This is a big change, but it's also an upgrade of your skill set. By the end of this journey, you won't just be "an OutSystems dev who dabbles in SQL" - you'll be a capable database developer as well, which is a powerful combination. Let's make it happen!

[\[1\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,not%20manual%20SQL%20scripts) [\[2\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20We%20Did%20This%2A%2A%3A%20,Prevents%20drift%20and%20manual%20errors) [\[3\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Prevents%20drift%20and%20manual%20errors) [\[4\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,all%20database%20PRs%20before%20merge) [\[5\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Success%20Criteria%20by%20Timeline%20,dev%20leads%20focus%20on%20architecture) [\[6\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,dev%20leads%20focus%20on%20architecture) [\[7\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,all%20database%20PRs%20before%20merge) [\[8\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,that%20will%20break%20the%20project) [\[9\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,3%20min) [\[10\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%29%3B%20) [\[11\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20NEVER%20FORGET%20THIS%20STEP) [\[12\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2ASee%2A%2A%3A%20%5BOutSystems) [\[13\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Queries%20fail%20at%20runtime) [\[14\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,all%20database%20PRs%20before%20merge) [\[15\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20DON%27T%20DO%20THESE%20,cause%20outages) [\[16\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Read%20%5BTop%2010%20Anti,in%20OutSystems%20queries) [\[17\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,columns%20without%20data%20migration%20plan) [\[18\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%E2%9D%8C%20Anti,on%20Existing%20Table%20Without%20DEFAULT) [\[19\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AWhy%20It%27s%20Bad%2A%2A%3A%20,Database%20unchanged%2C%20app%20broken) [\[20\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,DON%27T%20commit%20without%20building%20first) [\[21\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=) [\[24\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%9A%A8%20DON%27T%20DO%20THESE%20,cause%20outages) [\[27\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Empty%20string%20default) [\[28\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,WHERE%20PhoneNumber%20IS%20NULL) [\[29\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=) [\[30\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Broken%20build%20%3D%20blocked%20colleagues) [\[31\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Dev%20Lead%3A%20Watch%20For%20These,in%20PRs) [\[32\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%93%8A%20Monday%20Morning%20Standup%20Topics) [\[33\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Dev%20leads%20will%20cover%3A%201,Q%26A%20%285%20min) [\[34\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,MyDatabase.sqlproj%20%E2%86%92%20Click%20Open) [\[35\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AVerify%20it%20opened%2A%2A%3A%20,help%20with%20screenshot) [\[36\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,help%20with%20screenshot) [\[37\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,click%20to%20open) [\[38\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,100%29%20NOT%20NULL%20%29%3B) [\[39\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,PhoneNumber%5D%20VARCHAR%2820%29%20NULL%2C) [\[40\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,%E2%86%90%20New%20line) [\[43\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,that%20will%20break%20the%20project) [\[44\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Build%20Solution%20Or%3A%20Ctrl%2BShift%2BB) [\[45\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Fail%3A%20Red%20text%20with%20errors) [\[72\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=6,that%20new%20attribute%20exists) [\[73\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=Add%20a%20Table) [\[110\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,NULL) [\[111\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2APriority%20Anti,deployment%20will%20fail) [\[112\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,deployment%20will%20fail) [\[222\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AQuestions%3F%2A%2A%3A%20,3%20PM%20with%20DB%20team) [\[224\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%F0%9F%93%9A%20Learning%20Path%20,Have%20Time) [\[229\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=16.%20Learning) [\[230\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=%2A%2AArtifacts%20Needed%20Later%2A%2A%3A%2017.%20Advanced,Guide.md%20%288%20pages) [\[231\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=17.%20Advanced,Guide.md%20%288%20pages) [\[232\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,straight%20to%20Prod%20%E2%9D%8C) [\[233\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=,Deploy%20to%20Prod%20after%20hours) [\[234\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=3,to%20Prod%20after%20hours) [\[235\]](file://file_000000007df861f7aa4a9c5470877398#:~:text=) note1.md

file://file_000000007df861f7aa4a9c5470877398

[\[22\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,local%20DB%20before%20submitting%20PR) [\[23\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=5,THEN%20commit%20and%20PR) [\[25\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20list%20columns) [\[26\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Never%20SELECT%20,Always%20list%20columns) [\[54\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Pre,passwords%2C%20API%20keys%2C%20PII) [\[57\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[58\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Change%20Type%20%28check%20one%29%20,%5D%20Other%3A) [\[59\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Description%20,of%20schema%20changes) [\[60\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Breaking%20Changes%20,describe%20below) [\[61\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Post,Testing%20steps%3A) [\[62\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Reviewer%20Assigning%20to%3A%20%40%5Bdev) [\[74\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,a%20row%20represents%20one%20X) [\[75\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Id%2C%20INT%20IDENTITY%20%28or%20BIGINT) [\[76\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,gets%20these%204%20audit%20columns) [\[77\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,FK%20constraint%20name%20%3D%20FK_ChildTable_ParentTable) [\[78\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,clustered%20index.%20No%20exceptions) [\[79\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,CustomerId) [\[80\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,MERGE%20or%20IF%20NOT%20EXISTS) [\[81\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=MERGE%20INTO%20OrderStatus%20) [\[84\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%23%20Daily%20Rhythm%20%28Monday) [\[85\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=2%3A00%20PM%20%20,batched%20for%203%20PM%20deployment) [\[86\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%60%60%60%208%3A00%20AM%20%20,yesterday%20deployed%2C%20Integration%20Studio%20refreshed) [\[87\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=9%3A00%20AM%20%20,Create%20PRs%20as%20ready) [\[88\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[89\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[90\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Day%20Deployment) [\[91\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AWhy%20hard%20cutoff%3F%2A%2A%3A%20,plan%20ahead) [\[92\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=3%3A30%20PM%20%20,Test%20their%20changes) [\[93\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,~15%20minute%20window) [\[94\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=5%3A00%20PM%20%20,work%20can%20be%20planned) [\[95\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Submitted%20by%202%3A00%20PM%20%E2%86%92,next%20day%20at%203%3A00%20PM) [\[96\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,syndrome) [\[97\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Fewer%20surprises%2C%20faster%20velocity) [\[98\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[99\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Change%20Type%20%28check%20one%29%20,%5D%20Other%3A) [\[100\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Multiple%20changes%20%3D%20multiple%20PRs) [\[101\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Each%20PR%20%3D%20one,Multiple%20changes%20%3D%20multiple%20PRs) [\[102\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,CustomerId) [\[103\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,No%20spaces%2C%20underscores%2C%20or%20hyphens) [\[104\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[105\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20NVARCHAR%20supports%20Unicode%20,) [\[106\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,world%20max%20%2B%2020) [\[107\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Be%20generous%20but%20not,world%20max%20%2B%2020) [\[108\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,if%20truly%20no%20time%20component) [\[109\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,NOT%20NULL%20with%20DEFAULT) [\[113\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%94%82) [\[114\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%94%82%20Senior%20Developer%20%282,%E2%94%82%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98) [\[115\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[116\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20script) [\[117\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,in%20daily%20deployment%20rhythm) [\[118\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Practice%20on%20sample%20database) [\[119\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[120\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,deployment%20migration) [\[121\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Troubleshoot%20Integration%20Studio%20connection%20issue) [\[122\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%F0%9F%9F%A1%20Write%20complex%20post) [\[123\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%9D%8C) [\[124\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Breaking%20changes%20to%20OutSystems%20apps) [\[125\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHigh,Breaking%20changes%20to%20OutSystems%20apps) [\[126\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20Rename%20table%2Fcolumn%20,Breaking%20changes%20to%20OutSystems%20apps) [\[127\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,standards%20%E2%9D%8C%20Troubleshoot%20production%20issues) [\[128\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[129\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,sufficient) [\[130\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%98%90%20Contribute%20to%20process%20improvements) [\[131\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[132\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,%E2%9C%85%20Resolve%20most%20build%20errors) [\[133\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9C%85%20Create%20composite%20indexes%20%E2%9C%85,with%20checklist%29) [\[134\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[135\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Guiding%20principles%3A) [\[136\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=2.%20Data%20is%20Sacred%20,Never%20assume) [\[137\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=3.%20Performance%20Matters%20Early%20,Measure%2C%20don%27t%20guess) [\[138\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=4.%20Explicit%20Over%20Implicit%20,Comment%20intent%2C%20not%20mechanism) [\[139\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=5.%20Team%20Over%20Individual%20,Document%20for%20future%20you) [\[140\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Examples%3A%20%E2%9C%85%20NVARCHAR,only) [\[141\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Common%20sizes%3A%20,avoid%20if%20possible) [\[142\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,DECIMAL%20for%20money) [\[143\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,DECIMAL%20for%20money) [\[144\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,only%20if%20precision%20not%20critical) [\[145\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,if%20truly%20no%20time%20component) [\[146\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20BIT%20for%20true%2Ffalse,NULL%20with%20DEFAULT) [\[147\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,a%20row%20represents%20one%20X) [\[148\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9C%85%20Customer%20,%E2%9D%8C%20Customers%2C%20Orders%2C%20OrderItems) [\[149\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Rule%3A%20IX_TableName_Column1_Column2) [\[150\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,if%20value%20optional%20or%20unknown) [\[151\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Always%20NOT%20NULL%3A%20,use%20DEFAULT) [\[152\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Usually%20NULL%3A%20,ShippedDate%20on%20pending%20order) [\[153\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Always%20provide%20DEFAULT%20for%20flags) [\[154\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,usually%20DESC%20for%20recent%20items) [\[155\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,CustomerId%2C%20OrderDate%20DESC) [\[156\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,consider%20covering%20index%20with%20INCLUDE) [\[157\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,OrderId%2C%20TotalAmount%2C%20Status) [\[158\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,column%20first%20in%20composite%20index) [\[159\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20CREATE%20INDEX%20IX_Orders_Status_CustomerId%20ON,Status%2C%20CustomerId) [\[160\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,rows%2C%20Status%20matches%2010%2C000%20rows) [\[161\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Rewrite%20to%20direct%20comparison) [\[162\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20Non,Email%2C%201%2C%205%29%20%3D%20%27admin) [\[163\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9C%85%20SARGable%20,WHERE%20Email%20LIKE%20%27admin) [\[164\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%E2%9D%8C%20Non,Email%2C%201%2C%205%29%20%3D%20%27admin) [\[165\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20,still%20bad%20habit%20though) [\[166\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,INNER%20JOIN%20is%20default) [\[167\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=FROM%20Customers%20c%20INNER%20JOIN,IsActive%20%3D%201) [\[168\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Template%3A%20,ModifiedBy%5D%20NVARCHAR%28100%29%20NULL) [\[169\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Flag%20as%20deleted%20instead) [\[170\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Don%27t%20delete%20data,as%20deleted%20instead) [\[171\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=UPDATE%20Customers%20SET%20IsDeleted%20%3D,WHERE%20CustomerId%20%3D%20%40id) [\[172\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Customers%20WHERE%20IsDeleted%20%3D%200) [\[173\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,only%20when%20measured%20performance%20problem) [\[174\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,only%20when%20measured%20performance%20problem) [\[175\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Denormalize%20%28only%20if%20needed%29%3A%20,Audit%20data%20snapshots) [\[176\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20Normalization%20reduces%20bugs%2C%20improves,Measure%20first%2C%20optimize%20second) [\[177\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,Natural%20keys%20as%20UNIQUE%20constraints) [\[178\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20Surrogate%20keys%20stable%20,use%20natural%20key%20as%20PK) [\[179\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=CustomerId%20INT%20IDENTITY,) [\[180\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Why%3A%20Surrogate%20keys%20stable%20,natural%20key%20as%20PK) [\[181\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Build%20and%20deploy%20to,local%20DB%20before%20submitting%20PR) [\[182\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=1,THEN%20commit%20and%20PR) [\[183\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=) [\[184\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,even%20if%20starting%20with%201000) [\[185\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Questions%20to%20ask%3A%20,Do%20we%20need%20archiving%20strategy) [\[186\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,rows%20%3D%20batch%20in%20chunks) [\[187\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=DECLARE%20%40BatchSize%20INT%20%3D%2010000%3B,1%20WHERE%20Processed%20%3D%200) [\[190\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,not%20intuition%2C%20for%20performance%20tuning) [\[191\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,measure%206.%20Repeat) [\[192\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Process%3A%201,Fix%20one%20thing) [\[193\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=%2A%2AHeuristic%20,column%2Ftable%20with%20data%3F%20Backup%20first) [\[194\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=Rule%3A%20Dropping%20column%2Ftable%20with%20data%3F,Backup%20first) [\[223\]](file://file_00000000da0061f7bb0ebe9d2467b483#:~:text=,Follow%20daily%20release%20train%20rhythm) note5.md

file://file_00000000da0061f7bb0ebe9d2467b483

[\[41\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%2A%2AData%20Type%20Considerations%2A%2A%3A%20,4567) [\[42\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%E2%94%82%20%20%E2%94%9C%E2%94%80%20YES%20%E2%86%92,change%2C%20no%20OutSystems%20refresh) [\[51\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%2A%2AYou%20should%20see%2A%2A%3A%20,%28shows%20M) [\[52\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,PhoneNumber%20column%20to%20Customers%20table) [\[53\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=Add%20PhoneNumber%20column%20to%20Customers,table) [\[55\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,%E2%86%92%20Push) [\[56\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,Breaking%20change%3A%20No) [\[63\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,3%20min) [\[64\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,2%20min) [\[65\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,PhoneNumber%5D%20VARCHAR%2820%29%20NULL%3B) [\[66\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=%2A%2AVerify%2A%2A%3A%20,%E2%9C%85%20NULL%2FNOT%20NULL%20correct) [\[67\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,) [\[68\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=1.%20,new%20attribute%29%20Type%3A%20Text) [\[69\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=4.%20%2A%2ARight,Click%20Apply) [\[70\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=6.%20,Extension%20published%20successfully) [\[71\]](file://file_000000007c8c61f7a8c52b46fc044d17#:~:text=,Test%20in%20browser) note2.md

file://file_000000007c8c61f7a8c52b46fc044d17

[\[46\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,Rename%2C%20don%27t%20edit%20manually%20%E2%94%82) [\[47\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,) [\[48\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,Add%20GO%20between%20CREATE%20statements) [\[49\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=) [\[50\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=Quick%20Build%20Checklist) [\[82\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%82%20%E2%94%9C%E2%94%80%20Error%3A%20,Rename%2C%20don%27t%20edit%20manually%20%E2%94%82) [\[83\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,instead%20of%20using%20Refactor%20menu) [\[197\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,%E2%9D%8C%20ID%20capitalized%20wrong) [\[198\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,%E2%9D%8C%20Missing%20schema) [\[199\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%9C%E2%94%80%20Error%3A%20,%E2%94%82) [\[200\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,Separator) [\[201\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,%E2%9D%8C%20Error%20here) [\[202\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,50%29%20%29%3B) [\[203\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,) [\[204\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=,) [\[205\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=%E2%94%82%20%E2%94%94%E2%94%80%20Other%20syntax%20error,help%20with%20screenshot) [\[206\]](file://file_000000000eb861f788d13b6c11c967fa#:~:text=1,help%20with%20error%20screenshot) note3.md

file://file_000000000eb861f788d13b6c11c967fa

[\[188\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,DECLARE%20%40RowsAffected%20INT%20%3D%20%40BatchSize) [\[189\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=ELSE%20SUBSTRING,Only%20process%20unmigrated%20rows) [\[195\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%202%3A%20Blocked%20by,Data%20Loss) [\[196\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,loss%20is%20acceptable) [\[207\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%201%3A%20Timeout%20During,Large%20Operation) [\[208\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Deployment%20failed%3F%20%E2%94%82%20%E2%94%9C%E2%94%80%20In,recovery%20%E2%94%82%20%E2%94%94%E2%94%80%20What%20failed) [\[209\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,instead%20of%2060%20seconds) [\[210\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=SqlPackage.exe%20%2FAction%3APublish%20%60%20%2FSourceFile%3A,instead%20of%2060%20seconds) [\[211\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,FROM%20sys.dm_tran_active_transactions) [\[212\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,0) [\[213\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,0) [\[214\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=) [\[215\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,drop%20column%2C%20redesign%20approach) [\[216\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,PhoneBackup%20FROM%20Customers) [\[217\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Scenario%203%3A%20Post,Failed) [\[218\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,New%20schema%2C%20old%2Fpartial%20data) [\[219\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Recovery%20Strategy%20Decision%20Tree) [\[220\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=%E2%94%82%20%E2%94%94%E2%94%80%20What%20failed%3F%20%E2%94%9C%E2%94%80,%E2%86%92%20Schema%20applied%2C%20data%20not) [\[221\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=) [\[225\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Understanding%20Database%20Merge%20Conflicts) [\[226\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,requires%20discussion) [\[227\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=What%20is%20Table%20Refactoring%3F) [\[228\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=%2A%2AWhy%20it%27s%20complex%2A%2A%3A%20,Often%20breaking%20change%20for%20OutSystems) [\[236\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Conflict%20Type%201%3A%20Simple%20Additive,Easy) [\[237\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=) [\[238\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Conflict%20Type%202%3A%20Overlapping%20Column,Moderate) [\[239\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=) [\[240\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,50%29%20%20NOT%20NULL) [\[241\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,) [\[242\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,50%29%20makes%20sense) [\[243\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,for%20%2B44%2C%20NULL%20for%20optional) [\[244\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=Refactoring%20Pattern%201%3A%20Split%20Column) [\[245\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,15%20minutes) [\[246\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,30%20minutes) [\[247\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=%2A%2AScript.PostDeployment.sql%2A%2A%3A%20%60%60%60sql%20,Running%20Migration%20001%3A%20Split%20FullName) [\[248\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=WHEN%20CHARINDEX,Only%20process%20unmigrated%20rows) [\[249\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,1%20hour) [\[250\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,each%20OutSystems%20app%20using%20Customers) [\[251\]](file://file_00000000b5b061f781117ea57a00e412#:~:text=,preserve%20in%20audit%20table) note4.md

file://file_00000000b5b061f781117ea57a00e412
